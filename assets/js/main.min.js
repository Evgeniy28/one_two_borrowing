$(function(){function e(e,o){$(e).on("click",function(e){e.preventDefault(),$("html,body").stop().animate({scrollTop:$(o).offset().top},1500)})}e(".go-info",".recomendation"),e(".go-about",".about-company"),e(".go-top-btn",".header"),e(".go-offices",".offices")}),$(function(){function e(e,o){$(e).on("click",function(e){e.preventDefault(),$(".modal").addClass("is-active"),$(o).addClass("is-form-show")})}function o(e){$(".modal").hasClass("is-active")&&($(".modal").removeClass("is-active"),$(e).removeClass("is-form-show"),$(e+" input").removeClass("is-danger"))}function r(e){$(e+" .modal-close").on("click",function(r){r.preventDefault(),o(e)})}function a(e){$(window).on("keydown",function(r){27===r.keyCode&&o(e)})}function s(e){$(e).addClass("modal-error"),setTimeout(function(){$(e).removeClass("modal-error")},1500)}$("[name=tel]").mask("+7(999) 999-99-99"),e(".header-callback__btn",".form-for-me"),e(".call-me",".form-for-me"),e(".about-company__btn",".form-for-me"),e(".footer__btn",".form-for-me"),e(".call-friend",".form-for-friend"),r(".form-for-me form"),r(".form-for-friend form"),a(".form-for-me form"),a(".form-for-friend form"),$(".form-for-me .modal-form").submit(function(e){var o=document.querySelector(".form-for-me [name=name]"),r=document.querySelector(".form-for-me [name=tel]"),a=document.querySelector(".form-for-me [name=checkbox]"),n=document.querySelector(".form-for-me .modal-form__checkbox-text");if(e.preventDefault(),o.value)if(r.value)if(a.checked){console.log("ajax"),console.log($(o).val()),console.log($(r).val());var t={name:$(o).val(),tel:$(r).val()};$.ajax({type:"POST",url:"form.php",data:t,dataType:"json",success:function(e){e.success?$(".form-for-me .modal-form__title").fadeIn(1e3).html('<p class="modal-form__title success-text">'+e.posted+"</p>"):e.errors.name&&(console.log("errors",e.errors.name),s(".form-for-me"),$(".form-for-me .form-errors").fadeIn(1e3).html(e.errors.name))}})}else s(".form-for-me"),o.classList.remove("is-danger"),r.classList.remove("is-danger"),n.classList.add("errors-text");else s(".form-for-me"),o.classList.remove("is-danger"),r.classList.add("is-danger");else s(".form-for-me"),o.classList.add("is-danger")}),$(".form-for-friend .modal-form").submit(function(e){var o=document.querySelector(".form-for-friend [name=name]"),r=document.querySelector(".form-for-friend [name=tel]"),a=document.querySelector(".form-for-friend [name=your_name]"),n=document.querySelector(".form-for-friend [name=checkbox]"),t=document.querySelector(".form-for-friend .modal-form__checkbox-text");if(e.preventDefault(),o.value)if(r.value)if(a.value)if(n.checked){console.log("ajax"),console.log($(o).val()),console.log($(r).val()),console.log($(a).val());var l={name:$(o).val(),tel:$(r).val(),your_name:$(a).val()};$.ajax({type:"POST",url:"form_for_friend.php",data:l,dataType:"json",success:function(e){e.success?$(".form-for-friend .modal-form__title").fadeIn(1e3).html('<p class="modal-form__title success-text">'+e.posted+"</p>"):e.errors.name&&(console.log("errors",e.errors.name),s(".form-for-friend"),$(".form-for-friend .form-errors").fadeIn(1e3).html(e.errors.name))}})}else s(".form-for-friend"),o.classList.remove("is-danger"),r.classList.remove("is-danger"),a.classList.remove("is-danger"),t.classList.add("errors-text");else s(".form-for-friend"),o.classList.remove("is-danger"),r.classList.remove("is-danger"),a.classList.add("is-danger");else s(".form-for-friend"),o.classList.remove("is-danger"),r.classList.add("is-danger");else s(".form-for-friend"),o.classList.add("is-danger")}),$(".customer-form").submit(function(e){var o=document.querySelector(".customer-form [name=name]"),r=document.querySelector(".customer-form [name=tel]"),a=document.querySelector(".customer-form [name=checkbox]"),n=document.querySelector(".customer-form .customer-form__checkbox-text");if(e.preventDefault(),o.value)if(r.value)if(a.checked){console.log("ajax"),console.log($(o).val()),console.log($(r).val());var t={name:$(o).val(),tel:$(r).val()};$.ajax({type:"POST",url:"form.php",data:t,dataType:"json",success:function(e){e.success?$(".customer-form").fadeIn(1e3).html("<p>"+e.posted+"</p>"):e.errors.name&&$(".customer-form .form-errors").fadeIn(1e3).html(e.errors.name)}})}else s(".customer-form"),o.classList.remove("is-danger"),r.classList.remove("is-danger"),n.classList.add("errors-text");else s(".customer-form"),o.classList.remove("is-danger"),r.classList.add("is-danger");else s(".customer-form"),o.classList.add("is-danger")})}),$(function(){var e,o;window.sr=ScrollReveal(),o={origin:"top",distance:"24px",duration:1500,scale:1.05},e={origin:"bottom",distance:"32px",duration:600,delay:800,scale:.9},sr.reveal(".header__title",o),sr.reveal(".header__btn",o),sr.reveal(".passport-icon",e),sr.reveal(".time-icon",e),sr.reveal(".percent-icon",e),sr.reveal(".call-icon",e),sr.reveal(".customer-form",e),sr.reveal(".recomendation__title",o),sr.reveal(".recomendation__text",e),sr.reveal(".slider",e),sr.reveal(".button-wrapper",e),sr.reveal(".about-company__title",o),sr.reveal(".about-company__info",e),sr.reveal(".about-company__btn",e)}),$(function(){var e=document.getElementById("slider");window.mySwipe=new Swipe(e,{startSlide:0,auto:3e3,draggable:!0,autoRestart:!0,continuous:!0,disableScroll:!0,stopPropagation:!0,callback:function(e,o){!function(e){var o=document.querySelector(".slider-pagination .slider-pagination__list");0==e?(o.children[e].classList.add("is-active-slide"),o.children[3].classList.remove("is-active-slide")):(o.children[e].classList.add("is-active-slide"),o.children[e-1].classList.remove("is-active-slide"))}(e)},transitionEnd:function(e,o){}})}),$(function(){function e(e,o,r,a,s,n){$(e).on("click",function(t){t.preventDefault(),$(".offices__links "+e).addClass("is-active-office"),$(".offices__links "+a).removeClass("is-active-office"),$(o).removeClass("none-js"),$(s).addClass("none-js"),$(r).removeClass("none-js"),$(n).addClass("none-js")})}e(".lenina-squire","#office1","#yandex-map1",".october","#office2","#yandex-map2"),e(".october","#office2","#yandex-map2",".lenina-squire","#office1","#yandex-map1"),ymaps.ready(function(){var e=new ymaps.Map("yandex-map1",{center:[43.355302,132.179872],zoom:18},{searchControlProvider:"yandex#search"}),o=new ymaps.Map("yandex-map2",{center:[43.354305,132.186286],zoom:18},{searchControlProvider:"yandex#search"});BalloonContentLayout=ymaps.templateLayoutFactory.createClass('<div class="map-mark"><div class="map-mark__img"><img src="assets/images/{{ properties.images }}" width="120" height="120"></div><div class="map-mark__wrapper"><p class="map-mark__adress">{{ properties.address }}</p><p class="map-mark__description">{{ properties.description }}</p><p class="map-mark__phone">{{ properties.phone }}</p><button class="button map-mark__button call-me-office" type="button">Перезвоните мне</button></div></div>',{build:function(){BalloonContentLayout.superclass.build.call(this),$(".call-me-office").bind("click",this.openModalFromMap)},clear:function(){$(".call-me-office").unbind("click",this.openModalFromMap),BalloonContentLayout.superclass.clear.call(this)},openModalFromMap:function(e){e.preventDefault(),$(".modal").addClass("is-active"),$(".form-for-me").addClass("is-form-show")}});var r=new ymaps.Placemark(e.getCenter(),{address:"г. Артём, площадь Ленина, 2",description:'ГУМ, вход с торца, напротив "Кошелки"!',phone:"8-904-627-3974",images:"office1-ballloon.jpg"},{balloonContentLayout:BalloonContentLayout,balloonPanelMaxMapArea:0,preset:"islands#blueDotIcon",iconColor:"#28aa3a"}),a=new ymaps.Placemark(o.getCenter(),{address:"г. Артём, ул. Октябрьская, д. 4а",description:'Центральная автобусная остановка, "Садильник", в одном здании с салоном Yota!',phone:"8-904-627-3974",images:"office2-ballloon.jpg"},{balloonContentLayout:BalloonContentLayout,balloonPanelMaxMapArea:0,preset:"islands#blueDotIcon",iconColor:"#28aa3a"});e.geoObjects.add(r),o.geoObjects.add(a)})});