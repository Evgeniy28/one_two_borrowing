$(function(){function e(e,o){$(e).on("click",function(e){e.preventDefault(),$("html,body").stop().animate({scrollTop:$(o).offset().top},1500)})}e(".go-info",".recomendation"),e(".go-about",".about-company"),e(".go-top-btn",".header"),e(".go-offices",".offices")}),$(function(){function e(e,o){$(e).on("click",function(e){e.preventDefault(),$(o).addClass("is-active")})}function o(e){$(e).hasClass("is-active")&&($(e).removeClass("is-active"),$(e+" input").removeClass("is-danger"))}function a(e){$(e+" .modal-close").on("click",function(a){a.preventDefault(),o(e)})}function r(e){$(window).on("keydown",function(a){27===a.keyCode&&o(e)})}function n(e){$(e+" form").addClass("modal-error"),setTimeout(function(){$(e+" form").removeClass("modal-error")},1500)}$("[name=tel]").mask("+7(999) 999-99-99"),e(".header-callback__btn",".form-for-me"),e(".call-me",".form-for-me"),e(".about-company__btn",".form-for-me"),e(".footer__btn",".form-for-me"),e(".call-friend",".form-for-friend"),a(".form-for-me"),a(".form-for-friend"),r(".form-for-me"),r(".form-for-friend"),$(".form-for-me .modal-form").submit(function(e){var o=document.querySelector(".form-for-me [name=name]"),a=document.querySelector(".form-for-me [name=tel]"),r=document.querySelector(".form-for-me [name=checkbox]"),s=document.querySelector(".form-for-me .modal-form__checkbox-text");if(e.preventDefault(),o.value)if(a.value)if(r.checked){$(".form-for-me .modal-form__btn").addClass("is-loading");var t={name:$(o).val(),tel:$(a).val()};$.ajax({type:"POST",url:"form.php",data:t,dataType:"json",success:function(e){e.success?($(".form-for-me .modal-form__title").html(e.posted),$(".form-for-me .modal-form__title").addClass("success-text"),$(".form-for-me input").val(""),$(".form-for-me .modal-form__btn").removeClass("is-loading")):e.errors.name&&(n(".form-for-me"),$(".form-for-me .form-errors").fadeIn(1e3).html(e.errors.name))}})}else n(".form-for-me"),o.classList.remove("is-danger"),a.classList.remove("is-danger"),s.classList.add("errors-text");else n(".form-for-me"),o.classList.remove("is-danger"),a.classList.add("is-danger");else n(".form-for-me"),o.classList.add("is-danger")}),$(".form-for-friend .modal-form").submit(function(e){var o=document.querySelector(".form-for-friend [name=name]"),a=document.querySelector(".form-for-friend [name=tel]"),r=document.querySelector(".form-for-friend [name=your_name]"),s=document.querySelector(".form-for-friend [name=checkbox]"),t=document.querySelector(".form-for-friend .modal-form__checkbox-text");if(e.preventDefault(),o.value)if(a.value)if(r.value)if(s.checked){$(".form-for-friend .modal-form__btn").addClass("is-loading");var i={name:$(o).val(),tel:$(a).val(),your_name:$(r).val()};$.ajax({type:"POST",url:"form_for_friend.php",data:i,dataType:"json",success:function(e){e.success?($(".form-for-friend .modal-form__title").html(e.posted),$(".form-for-friend .modal-form__title").addClass("success-text"),$(".form-for-friend input").val(""),$(".form-for-friend .modal-form__btn").removeClass("is-loading")):e.errors.name&&(n(".form-for-friend"),$(".form-for-friend .form-errors").fadeIn(1e3).html(e.errors.name))}})}else n(".form-for-friend"),o.classList.remove("is-danger"),a.classList.remove("is-danger"),r.classList.remove("is-danger"),t.classList.add("errors-text");else n(".form-for-friend"),o.classList.remove("is-danger"),a.classList.remove("is-danger"),r.classList.add("is-danger");else n(".form-for-friend"),o.classList.remove("is-danger"),a.classList.add("is-danger");else n(".form-for-friend"),o.classList.add("is-danger")}),$(".customer-form").submit(function(e){var o=document.querySelector(".customer-form [name=name]"),a=document.querySelector(".customer-form [name=tel]"),r=document.querySelector(".customer-form [name=checkbox]"),s=document.querySelector(".customer-form .customer-form__checkbox-text");if(e.preventDefault(),o.value)if(a.value)if(r.checked){$(".customer-form .customer-form__btn").addClass("is-loading");var t={name:$(o).val(),tel:$(a).val()};$.ajax({type:"POST",url:"form.php",data:t,dataType:"json",success:function(e){e.success?$(".customer-form").fadeIn(1e3).html('<p style="color: hsl(348, 100%, 61%);">'+e.posted+"</p>"):e.errors.name&&($(".customer-form .form-errors").fadeIn(1e3).html(e.errors.name),$(".customer-form").fadeIn(1e3).html('<p style="color: hsl(348, 100%, 61%);">'+e.errors.name+"</p>"))}})}else n(".form-js"),o.classList.remove("is-danger"),a.classList.remove("is-danger"),s.classList.add("errors-text");else n(".form-js"),o.classList.remove("is-danger"),a.classList.add("is-danger");else n(".form-js"),o.classList.add("is-danger")})}),$(function(){var e,o;window.sr=ScrollReveal(),o={origin:"top",distance:"24px",duration:1500,scale:1.05},e={origin:"bottom",distance:"32px",duration:600,delay:800,scale:.9},sr.reveal(".header__title",o),sr.reveal(".header__btn",o),sr.reveal(".passport-icon",e),sr.reveal(".time-icon",e),sr.reveal(".percent-icon",e),sr.reveal(".call-icon",e),sr.reveal(".customer-form",e),sr.reveal(".recomendation__title",o),sr.reveal(".recomendation__text",e),sr.reveal(".button-wrapper",e),sr.reveal(".about-company__title",o),sr.reveal(".about-company__info",e),sr.reveal(".about-company__btn",e)}),$(function(){function e(e){return function(o){var a=mySwipe.getPos(),r=$(".slider-pagination__list").find(".slider-pagination__link");r[a].classList.remove("is-active-slide"),r[e].classList.add("is-active-slide"),mySwipe.slide(e)}}var o=document.getElementById("slider");window.mySwipe=new Swipe(o,{startSlide:0,auto:3500,draggable:!0,autoRestart:!0,continuous:!0,disableScroll:!0,stopPropagation:!0,callback:function(e,o){!function(e){var o=document.querySelector(".slider-pagination .slider-pagination__list").children;0==e?(o[e].classList.add("is-active-slide"),o[3].classList.remove("is-active-slide")):(o[e].classList.add("is-active-slide"),o[e-1].classList.remove("is-active-slide"))}(e)},transitionEnd:function(e,o){}}),function(){var o=$(".slider-pagination__list").find(".slider-pagination__link");i=0;for(var a=o.length;i<a;)o[i].addEventListener("click",e(i),!1),i++}()}),$(function(){ymaps.ready(function(){function e(e,o,a,r,t,c){$(e).on("click",function(m){m.preventDefault(),$(".offices__links "+e).addClass("is-active-office"),$(".offices__links "+r).removeClass("is-active-office"),$(o).removeClass("none-js"),$(t).addClass("none-js"),$(a).removeClass("none-js"),$(c).addClass("none-js"),".october"==e?(console.log("open baloon october"),l.balloon.open(),s.setCenter([43.354305,132.186286])):(console.log("open baloon lenina"),i.balloon.open(),n.setCenter([43.355302,132.179872]))})}function o(e){$(e+" .modal-close").on("click",function(o){$(e).removeClass("is-active")})}function a(e){$(e).hasClass("is-active")&&$(e).removeClass("is-active")}function r(e){$(window).on("keydown",function(o){27===o.keyCode&&a(e)})}var n=new ymaps.Map("yandex-map1",{center:[43.355302,132.179872],zoom:18,controls:["zoomControl"]},{searchControlProvider:"yandex#search"}),s=new ymaps.Map("yandex-map2",{center:[43.354305,132.186286],zoom:18,controls:["zoomControl"]},{searchControlProvider:"yandex#search"});n.behaviors.disable("scrollZoom"),s.behaviors.disable("scrollZoom");var t={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return t.Android()||t.BlackBerry()||t.iOS()||t.Opera()||t.Windows()}};t.any()&&(n.behaviors.disable("drag"),s.behaviors.disable("drag")),BalloonContentLayout=ymaps.templateLayoutFactory.createClass('<div class="map-mark"><div class="map-mark__img"><img src="assets/images/{{ properties.images }}" width="120" height="120" alt=""></div><div class="map-mark__wrapper"><p class="map-mark__adress">{{ properties.address }}</p><p class="map-mark__description">{{ properties.description }}</p><p class="map-mark__phone">{{ properties.phone }}</p><button class="button map-mark__button call-me-office" type="button">Перезвоните мне</button></div></div>',{build:function(){BalloonContentLayout.superclass.build.call(this),$(".call-me-office").bind("click",this.openModalFromMap),$(".map-mark__img").bind("click",this.openModalOffice)},clear:function(){$(".call-me-office").unbind("click",this.openModalFromMap),$(".map-mark__img").unbind("click",this.openModalOffice),BalloonContentLayout.superclass.clear.call(this)},openModalFromMap:function(e){e.preventDefault(),$(".form-for-me").addClass("is-active")},openModalOffice:function(e){e.preventDefault(),$(".lenina-squire").hasClass("is-active-office")?$(".image__office1").addClass("is-active"):$(".image__office2").addClass("is-active")}});var i=new ymaps.Placemark(n.getCenter(),{address:"г. Артём, площадь Ленина, 2",description:'ГУМ, вход с торца, напротив "Кошелки"!',phone:"8-904-627-3974",images:"office1-ballloon.jpg"},{balloonContentLayout:BalloonContentLayout,balloonPanelMaxMapArea:0,preset:"islands#blueDotIcon",iconColor:"#28aa3a"}),l=new ymaps.Placemark(s.getCenter(),{address:"г. Артём, ул. Октябрьская, д. 4а",description:'Центральная автобусная остановка, "Садильник", в одном здании с салоном Yota!',phone:"8-904-627-3974",images:"office2-ballloon.jpg"},{balloonContentLayout:BalloonContentLayout,balloonPanelMaxMapArea:0,preset:"islands#blueDotIcon",iconColor:"#28aa3a"});n.geoObjects.add(i),s.geoObjects.add(l),i.balloon.open(),e(".lenina-squire","#office1","#yandex-map1",".october","#office2","#yandex-map2"),e(".october","#office2","#yandex-map2",".lenina-squire","#office1","#yandex-map1"),o(".image__office1"),o(".image__office2"),r(".image__office1"),r(".image__office2")})});